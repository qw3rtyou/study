import random

SEED=31208

actions=[17, 277, 706, 360, 862, 371, 448, 535, 185, 483, 924, 602, 30, 393, 263, 452, 182, 217, 36, 357, 193, 672, 282, 188, 729, 559, 367, 757, 640, 526, 937, 951, 531, 379, 537, 896, 565, 306, 867, 995, 380, 633, 575, 418, 836, 458, 4, 964, 1017, 350, 248, 474, 344, 268, 842, 637, 278, 876, 160, 353, 950, 239, 432, 329, 901, 224, 1018, 984, 422, 754, 368, 312, 830, 297, 399, 916, 485, 925, 773, 779, 710, 746, 504, 408, 932, 255, 235, 447, 679, 155, 433, 359, 543, 12, 313, 1009, 647, 416, 824, 206, 296, 122, 1015, 726, 426, 566, 692, 769, 703, 383, 632, 945, 295, 301, 349, 858, 365, 475, 352, 799, 246, 533, 347, 107, 859, 544, 536, 928, 355, 184, 560, 119, 136, 981, 597, 828, 563, 730, 569, 513, 589, 53, 154, 966, 688, 431, 584, 968, 609, 199, 743, 148, 337, 976, 986, 339, 411, 760, 960, 338, 542, 979, 907, 603, 404, 516, 52, 957, 668, 615, 364, 601, 630, 215, 143, 887, 758, 921, 141, 451, 512, 345, 413, 608, 808, 88, 140, 423, 382, 905, 822, 307, 288, 697, 857, 827, 281, 525, 1016, 658, 571, 763, 806, 778, 973, 394, 628, 417, 61, 334, 736, 241, 739, 78, 108, 221, 655, 644, 720, 1005, 673, 398, 891, 331, 759, 330, 23, 795, 35, 134, 659, 279, 958, 1010, 967, 289, 902, 1013, 946, 889, 709, 57, 515, 84, 807, 803, 11, 66, 948, 166, 490, 771, 478, 987, 481, 104, 877, 180, 168, 878, 156, 333, 402, 500, 689, 813, 731, 99, 283, 172, 809, 87, 390, 670, 253, 499, 258, 800, 510, 342, 885, 223, 780, 662, 715, 51, 740, 904, 527, 586, 776, 13, 893, 20, 546, 262, 814, 675, 593, 663, 457, 511, 225, 421, 934, 581, 693, 744, 173, 621, 725, 880, 549, 47, 982, 204, 43, 109, 716, 819, 661, 228, 761, 479, 257, 811, 686, 128, 539, 741, 772, 356, 855, 469, 149, 598, 783, 521, 321, 341, 203, 467, 388, 294, 363, 917, 753, 654, 869, 985, 39, 260, 886, 978, 170, 529, 1012, 712, 286, 846, 94, 677, 346, 158, 971, 911, 879, 1003, 634, 233, 643, 80, 436, 137, 55, 817, 315, 898, 787, 791, 810, 556, 837, 993, 631, 833, 287, 1020, 501, 49, 577, 990, 164, 264, 216, 1000, 89, 146, 666, 59, 980, 998, 651, 844, 308, 695, 952, 298, 152, 442, 488, 838, 293, 144, 974, 894, 177, 856, 947, 641, 718, 941, 882, 82, 747, 280, 322, 977, 955, 861, 616, 775, 340, 75, 16, 480, 105, 798, 311, 727, 38, 919, 965, 970, 272, 704, 496, 7, 424, 900, 1011, 845, 568, 930, 274, 669, 378, 766, 551, 585, 590, 646, 578, 1002, 429, 271, 230, 826, 733, 138, 843, 237, 410, 582, 366, 555, 735, 929, 1008, 183, 209, 520, 567, 587, 214, 324, 127, 197, 343, 440, 292, 375, 389, 405, 232, 685, 698, 67, 768, 70, 714, 252, 494, 890, 498, 178, 969, 953, 145, 454, 612, 386, 700, 212, 541, 623, 734, 391, 163, 865, 269, 524, 419, 591, 201, 69, 691, 939, 187, 992, 899, 3, 926, 200, 98, 595, 860, 738, 387, 309, 711, 620, 103, 596, 874, 139, 840, 151, 8, 636, 205, 15, 50, 918, 219, 749, 579, 996, 561, 1014, 495, 443, 832, 284, 409, 79, 745, 291, 605, 548, 873, 65, 506, 401, 489, 999, 702, 680, 752, 74, 756, 562, 611, 196, 940, 320, 314, 135, 619, 95, 81, 664, 694, 547, 254, 124, 789, 162, 427, 870, 906, 100, 310, 275, 794, 815, 701, 63, 179, 997, 777, 167, 161, 573, 157, 912, 64, 327, 486, 781, 991, 299, 728, 361, 77, 73, 249, 438, 652, 660, 211, 503, 376, 674, 290, 875, 437, 83, 1004, 267, 1019, 110, 207, 849, 574, 618, 517, 683, 881, 304, 430, 132, 732, 607, 58, 115, 834, 942, 583, 71, 471, 550, 639, 68, 101, 348, 463, 435, 303, 552, 764, 129, 202, 522, 453, 256, 445, 825, 868, 265, 234, 823, 165, 538, 1022, 493, 97, 690, 26, 792, 649, 610, 850, 54, 638, 910, 717, 956, 305, 847, 502, 302, 961, 802, 829, 914, 812, 927, 831, 45, 821, 487, 208, 627, 908, 227, 580, 190, 751, 385, 396, 922, 377, 412, 90, 86, 653, 482, 195, 748, 762, 317, 1023, 933, 316, 554, 465, 816, 801, 592, 805, 588, 944, 532, 657, 866, 462, 642, 406, 186, 713, 130, 464, 117, 722, 931, 624, 472, 121, 2, 336, 374, 414, 883, 150, 41, 459, 251, 938, 319, 909, 397, 796, 852, 508, 687, 425, 19, 853, 719, 244, 854, 466, 44, 629, 667, 102, 645, 6, 56, 245, 460, 351, 1001, 871, 176, 22, 400, 600, 484, 540, 147, 839, 210, 240, 276, 884, 1006, 48, 247, 962, 229, 750, 915, 85, 169, 782, 797, 153, 198, 18, 415, 270, 403, 943, 975, 407, 895, 570, 325, 220, 913, 1007, 332, 470, 24, 635, 765, 785, 604, 126, 370, 33, 450, 564, 439, 793, 273, 250, 682, 804, 648, 518, 774, 222, 174, 1021, 767, 133, 373, 384, 381, 936, 665, 326, 959, 656, 617, 27, 519, 218, 625, 972, 92, 0, 707, 848, 142, 171, 705, 770, 723, 983, 10, 392, 622, 742, 892, 42, 903, 434, 362, 441, 626, 872, 116, 181, 9, 243, 650, 681, 790, 676, 864, 40, 989, 613, 226, 863, 614, 576, 923, 949, 528, 335, 46, 784, 111, 920, 1, 358, 25, 505, 988, 285, 60, 671, 354, 266, 841, 699, 888, 300, 468, 420, 788, 125, 851, 118, 37, 737, 123, 473, 21, 935, 114, 994, 395, 120, 545, 492, 755, 476, 820, 684, 558, 514, 530, 721, 106, 328, 72, 32, 131, 76, 428, 534, 372, 191, 194, 29, 708, 606, 509, 724, 507, 231, 261, 477, 599, 34, 455, 557, 491, 461, 91, 572, 14, 213, 96, 159, 5, 835, 897, 696, 93, 369, 259, 678, 192, 175, 594, 236, 523, 444, 553, 238, 954, 113, 112, 446, 318, 786, 497, 963, 242, 456, 323, 818, 31, 189, 62, 28, 449]


# def random_shuffle(flag):
#     random.seed(SEED)
#     actions = []
    
#     # shuffle 과정을 actions 리스트에 저장
#     for _ in range(75):
#         i, j = random.sample(range(len(flag)), 2)
#         actions.append((i, j))
#         flag[i], flag[j] = flag[j], flag[i]

#     return "".join(flag), actions

# def random_unshuffle(shuffled_flag, actions):
#     flag = list(shuffled_flag)
    
#     # actions 리스트에 저장한 섞는 과정을 역순으로 수행해서 unshuffle
#     for i, j in reversed(actions):
#         flag[i], flag[j] = flag[j], flag[i]
    
#     return "".join(flag)


def random_shuffle(flag) :
    random.seed(31208)
    for _ in range(75):
        random.shuffle(flag)

    return "".join(flag)

def restore_string(s):
    restored = ['']*len(s)
    for i, j in enumerate(actions):
        restored[j] = s[i]
    return ''.join(restored)



if __name__ == "__main__" :
    # test=[a for a in range(1024)]
    # print(test)

    # test=random_shuffle(test)
    # print(test)

    flag="KCTF{c17483b16861db889da1bccbdb9132ced5132ee254f29c0c7867c192cbc2fd6a398ec30526b4c1574bb1fca347e9b70993cfc3206397abdc8cfcb656a42186e6929a7edb26ea949f7ea275939308e9f251d1be70b67f0627bbc80689f986b449f3e8f26edc66f341f4bf5a14f1f0b88ebf03a0aaf2c73fc2a5b97e74644192e23718cb46fd24b703c0f1f9c72a41f3013b7f253d7687fc582be8d7ceabc9e55727536d9cfc64e8c7c9ade97c7ecc6f051a26bbd20dccc24f00657ed1a860721ae003260d578a1d19a949a273cfe63a6ca7d19d53e72a5e8b484e4f2d8dd42e38d14c9bcbafaa4f769eeec4c2db038f04f0690fffe30c9d2a8d26008f701ee9a020500dc2356ee0cd2d58231e6c3fa484dd739d7b226f4664919129b3578a3bc976d0d2413eb545a1b9ecdb4e67a718cd839b06dd03a388bdc53c83a7f7100cf8c838ec067ba9022113bdd82966fa4788b25ba61fd5e28b848cd42f96614d23b12682ec35c1d7ec0452ee2798737ae9dfa8cedeb64b2d38dda379be23cd20e21c0d0fc7468e03f7923501b80918e92ad2aa06b06a22b0cd27fa27179ccad449e69aee99c451792a5e2068a10155a5b36d7886c169116d3a47cbf0b54548e25633a273f779cc13968cbb09f54b0c81592423cedb6e953b7eb7534c9623dede369fb4276c0db3c4456dac83cb3ddd873779eb1d2f687e80c6b69427bf6b90}"
    print(flag[:5])

    flag = [a for a in flag]
    flag = random_shuffle(flag)
    print(flag[:5])

    flag = [a for a in flag]
    flag = restore_string(flag)
    print(flag[:5])