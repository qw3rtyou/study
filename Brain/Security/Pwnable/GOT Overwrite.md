
# PLT, GOT
- GOT (Global Offset Table)
프로그램이 실행 중에 실제로 사용하는 라이브러리 함수의 주소를 저장
첫 호출 시, 실제 함수의 주소가 GOT에 저장됨
이후 호출에서는 GOT에 저장된 주소를 참조하여 함수를 실행(Lazy Binding)  
GOT에 저장된 주소를 변경함으로써, 원래의 함수 대신 다른 함수를 호출하게 만들 수 있음

- PLT (Procedure Linkage Table)
동적 라이브러리의 함수 호출을 위한 점프 테이블
처음 호출되는 함수에 대한 점프 코드를 포함
함수가 처음 호출될 때, PLT는 동적 링커를 통해 실제 함수의 주소를 찾아내고, 이 주소를 GOT에 저장한 다음 그 주소로 점프


# 배경
BOF같은 취약점을 이용해 GOT에 원하는 함수를 덮어쓰는 기법

Full-RELLO가 아니라면 일반적으로 Lazy binding인데, 다음과 같은 과정으로 동작함
1. 호출할 라이브러리 함수의 주소를 프로세스에 매핑된 라이브러리에서 찾는다.
2. 찾은 주소를 GOT에 적고, 이를 호출한다.
3. 해당 함수를 다시 호출할 경우, GOT에 적힌 주소를 그대로 참조한다.

이 때, 3번에서 GOT에 적힌 주소를 변조할 수 있다는 점을 이용함


# PLT를 Overwrite하지 않는 이유
PLT 섹션은 대부분의 현대 운영 체제에서 읽기 전용으로 설정됨 
따라서 PLT의 내용을 런타임에 수정하는 것은 거의 불가능
애초에 PLT는 각 함수의 초기 호출을 처리하는데 사용하고, 
함수의 실제 주소가 결정되고 나면, 다음 호출부터는 PLT를 거치지 않고 바로 GOT에 저장된 주소를 사용
즉, 의미 없음
따라서, 한 번 호출된 함수의 동작을 변경하려면 GOT를 수정하는 것이 효과적


# 예제1
[[Dreamhack - basic_rop_x64]]